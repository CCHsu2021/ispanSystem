@using MSITTeam1.ViewModels
@model CTMemberViewModel
@{
    ViewData["Title"] = "Index";
}

<link href="~/css/login.css" rel="stylesheet">

<div class="background">
    <div class="container-fulid px-3 px-md-0">
        <div class="login-wrap my-5">
            <div class="login-html">
                <input id="tab-1" type="radio" name="tab" class="sign-in" checked><label for="tab-1" class="tab">會員登入</label>
                <input id="tab-2" type="radio" name="tab" class="sign-up"><label for="tab-2" class="tab">註冊會員</label>
                <div class="login-form">
                    <form asp-action="login">
                        <div class="sign-in-htm">
                            <label for="user" class="lable">@ViewBag.ERROR</label>
                            <div class="group">
                                <label for="user" class="label">帳號</label>
                                <input id="user" type="text" class="input" name="txtAccount">
                            </div>
                            <div class="group">
                                <label for="pass" class="label">密碼</label>
                                <input id="pass" type="password" class="input" data-type="password" name="txtPassword">
                            </div>

                            <div class="group my-4">
                                <input type="submit" class="button" value="登入">
                            </div>
                            <div class="group text-center">
                                <a class="color-orange h5" href="#forgot">忘記密碼</a>
                            </div>
                        </div>
                    </form>
                    <form asp-action="register">
                        <div class="sign-up-htm">
                            <div class="group">
                                <label for="user" class="label">帳號</label>
                                <input id="user" type="text" class="input" name="txtAccount" required>
                            </div>
                            <div class="group">
                                <label for="pass" class="label">密碼(請輸入包含8-16碼英數字)</label>
                                <input id="txtPassword" name="txtPassword" type="password" class="input" data-type="password" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}$" title="8-16包含一大一小寫英數字">
                            </div>
                            <div class="group" >
                                <label for="pass" class="label">再次輸入密碼</label>
                                <input id="txtPassword2" type="password" class="input" data-type="password">
                            </div>
                            <div class="container">
                                <span class="text-warning mt-0 mb-0" id="WarningMsg"></span>
                            </div>
                            <div class="group mt-1">
                                <input id="registerbtn" type="submit" class="button" value="註冊">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts
{
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
 
        $("#txtPassword2").change(function ()
        {
            let Pass1 = $("#txtPassword").val();
            let Pass2 = $("#txtPassword2").val();
            if (Pass1 != Pass2) {
                document.getElementById("WarningMsg").innerText = "密碼不一致請重新確認"
            }
            else
            {
                document.getElementById("WarningMsg").innerText = ""
            }
        })

        $("#registerbtn").click(function ()
        {
            var message = "<%=register()%>";
            if (message == "此帳號已被註冊過")
            {
                swal("Uh Oh!", message, "warning");
            }
            if (message == "帳號註冊成功") {
                swal("太棒了!", message, "success");
            }
        })

    </script>
}

