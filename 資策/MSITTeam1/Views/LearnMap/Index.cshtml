@model IEnumerable<MSITTeam1.Models.TStudioInformation>
@{
    ViewData["Title"] = "Index";
}

@section Style {
    <link href='https://fonts.googleapis.com/css?family=News+Cycle:400,700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css">
    <style>

        .accordion {
            margin: 2rem auto;
        }

            .accordion h1, h2, h3, h4 {
                cursor: pointer;
            }

            .accordion h2, h3, h4 {
                font-family: "News Cycle";
            }

            .accordion h1 {
                padding: 15px 20px;
                background-color: #333;
                font-family: Lobster;
                font-size: 1.5rem;
                font-weight: normal;
                color: #1abc9c;
            }

                .accordion h1:hover {
                    color: #4afcdc;
                }

                .accordion h1:first-child {
                    border-radius: 10px 10px 0 0;
                }

                .accordion h1:last-of-type {
                    border-radius: 0 0 10px 10px;
                }

                .accordion h1:not(:last-of-type) {
                    border-bottom: 1px dotted #1abc9c;
                }

            .accordion div, .accordion p {
                display: none;
            }

            .accordion h2 {
                padding: 5px 25px;
                background-color: #1abc9c;
                font-size: 1.1rem;
                color: #333;
            }

                .accordion h2:hover {
                    background-color: #09ab8b;
                }

            .accordion h3 {
                padding: 5px 30px;
                background-color: #b94152;
                font-size: .9rem;
                color: #ddd;
            }

                .accordion h3:hover {
                    background-color: #a93142;
                }

            .accordion h4 {
                padding: 5px 35px;
                background-color: #ffc25a;
                font-size: .9rem;
                color: #af720a;
            }

                .accordion h4:hover {
                    background-color: #e0b040;
                }

            .accordion p {
                padding: 15px 35px;
                background-color: #ddd;
                font-family: "Georgia";
                font-size: .8rem;
                color: #333;
                line-height: 1.3rem;
            }

            .accordion .opened-for-codepen {
                display: block;
            }
    </style>
}
@{ var ClassName = "";
    var ClassCate = "";}
<div class="container">
    <aside class="accordion">

        @foreach (var item in Model)
        {
            @if (ClassName != item.FClassName)
            {
                <h1>@item.FClassName</h1>
                ClassName = item.FClassName;
            }
            <div>
                @if (ClassCate != item.FClassCategory)
                {
                    <h2>@item.FClassCategory</h2>
                    ClassCate = item.FClassCategory;

                }
                <a>@item.FClassSkill</a>
            </div>
        }
    </aside>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

@section Scripts {
    <script>
        var headers = ["H1", "H2", "H3", "H4", "H5", "H6"];

        $(".accordion").click(function (e) {
            var target = e.target,
                name = target.nodeName.toUpperCase();

            if ($.inArray(name, headers) > -1) {
                var subItem = $(target).next();

                //slideUp all elements (except target) at current depth or greater
                var depth = $(subItem).parents().length;
                var allAtDepth = $(".accordion p, .accordion div").filter(function () {
                    if ($(this).parents().length >= depth && this !== subItem.get(0)) {
                        return true;
                    }
                });
                $(allAtDepth).slideUp("fast");

                //slideToggle target content and adjust bottom border if necessary
                subItem.slideToggle("fast", function () {
                    $(".accordion :visible:last").css("border-radius", "0 0 10px 10px");
                });
                $(target).css({ "border-bottom-right-radius": "0", "border-bottom-left-radius": "0" });
            }
        });
    </script>
}